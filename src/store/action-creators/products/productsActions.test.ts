import axios from "axios";
import { Product, ProductsActionsTypes } from "../../../types/products";
import { fetchOneProductFromApi } from "./productsActions";

jest.mock("axios");

const mAxios = axios as jest.MockedFunction<typeof axios>;
const dispatch = jest.fn();

describe("Products actions", () => {
  afterEach(() => {
    jest.clearAllMocks();
  });

  it("Fetching one product", async () => {
    const mockResponse: Product = {
      image: 'data:image/jpeg;base64,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',
      name: 'Shampoo',
      sizeType: 'volume',
      size: 200,
      barcode: 230230230,
      producer: `L'Oreal`,
      brand: 'Nivea',
      description: 'Shampoo description',
      price: 500,
      type: ['Hairs'],
    };

    const result = jest.fn().mockResolvedValueOnce(mockResponse);
    mAxios.get = jest.fn().mockResolvedValueOnce(result);

    await fetchOneProductFromApi('-NS0_dN8mNLNraK5AVIm')(dispatch);
    expect(mAxios.get).toBeCalledWith(`/catalog/-NS0_dN8mNLNraK5AVIm.json`);
    expect(mAxios.get).toBeCalledTimes(1);
    expect(dispatch).toBeCalledWith({type: ProductsActionsTypes.FETCH_ONE_PRODUCT});
  });
  it("Fetching one product failure", async () => {
    const error = new Error('Network error');
    await fetchOneProductFromApi('-NS0_dN8mNLNraK5AVIm')(dispatch);
    jest.fn().mockRejectedValueOnce(error);

    expect(dispatch).toBeCalledWith({
      type: ProductsActionsTypes.FETCH_ONE_PRODUCT_FAILURE,
      payload: 'Товар с данным идентификатором отсутствует'
    });
  });
});







